<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>
<style>
	body{background:#D0C8C8 ;}
	ul{
		padding: 0 ;
		margin: 0 ;
	}
	li {
		list-style: none ;
	}
	.box {
		width:340px ;
		height:260px ;
		position: relative ;
		margin-right: 60px ;
		float: left ;
		background: url(img/loader_ico.gif) no-repeat center #fff;
	}
	.box img {
		width:340px ;
		height:260px ;
	}
	.box ul {width: 40px ; position: absolute ;top:10px ;right:-60px ;}
	.box li {
		width: 30px ;
		height: 30px ;
		margin-bottom: 4px ;
		background: #666 ;
	}
	.box .active {background: #fc3 ;}
	.box span {
		top:0 ;
	}
	.box p {
		bottom:0 ;
		margin: 0 ;
	}
	.box p ,span{
		position: absolute ;
		left: 0 ;
		width: 340px ;
		height: 30px ;
		font-size: 12px ;
		line-height: 30px ;
		text-align: center ;
		color: #fff ;
		background: #333 ;
	}
	</style>

<body>
<div id="pic1" class="box" >
	<span>数量正在加载</span>
	<p>文字说明正在加载中......</p>
	<img id="img" src="" />
	<ul>
	</ul>
	
</div>
<div id="pic2" class="box">
	<span>数量正在加载</span>
	<p>文字说明正在加载中......</p>
	<img id="img" src="" />
	<ul>
	</ul>
	
</div>
</body>
<script>
	window.onload =function(){
			fnTab('pic1',['img/1.jpg','img/2.jpg','img/3.jpg','img/4.jpg'],['图片一','图片二','图片三','图片四'],'onclick' ) ;
			fnTab('pic2',['img/2.jpg','img/3.jpg','img/4.jpg'],['图片二','图片三','图片四'],'onmouseover'); 	
	}
	function fnTab(a,arrUrl,arrText,evt){
		var oDiv = document.getElementById(a) ;
		var oImg = oDiv.getElementsByTagName('img')[0] ;
		var oP = oDiv.getElementsByTagName('p')[0] ;
		var oSpan = oDiv.getElementsByTagName('span')[0] ;
		var oUl = oDiv.getElementsByTagName('ul')[0] ;
		var aLi = oUl.getElementsByTagName('li');
		var num = 0 ;
		var oldLi = null ;
		
		for( var i=0 ;i<arrUrl.length ; i++){
			oUl.innerHTML += '<li></li>' ;
		}
		function fnTab(){
			oSpan.innerHTML = (num+1)+'/'+arrUrl.length ;
			oImg.src =arrUrl[num] ;
			oP.innerHTML = arrText[num] ;
			aLi[num].className = 'active' ;
		}
		fnTab() ;
			oldLi = aLi[num] ;
		
		for (var i=0 ;i<aLi.length ; i++ ){
			aLi[i].index = i ;
			aLi[i][evt] = function(){
				num = this.index ;
				//思路一 全部清空当前添加
				/*for(var j=0 ;j<aLi.length ; j++ ){
					aLi[j].className = '' ;
				}
				this.className = 'active' ;*/
				//思路二 清空上个，当前添加
				oldLi.className = '' ;
				oldLi = this ;
			fnTab() ;
			}
		}
		}
	
	</script>
</html>
