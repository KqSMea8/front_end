<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>
<style>
img { position:absolute; top:50px; width:100px;height: 100px ;
	 }
</style>
<body>
<img src="img/1.jpg" />
<img src="img/2.jpg" />
<img src="img/3.jpg" />
<img src="img/4.jpg" />
</body>
<script src="doMove.js"></script>
<script src="mine.js"></script>
<script>
	$(function(){
		var aImg = document.getElementsByTagName('img');
	
	for ( var i=0; i<aImg.length; i++ ) {
		aImg[i].style.left = 80+i*110 + 'px';
		aImg[i].old = getStyle(aImg[i],'top') ;
		aImg[i].index = i ;
		
		aImg[i].onmouseover = function(){
			if(aImg[this.index].old == getStyle(aImg[this.index],'top') ){
				fnShake( this, 'top' );
			}	
		};		
	};
		
})
		function fnShake(obj,attr,endFn){
			var pos = parseInt(getStyle(obj,attr)) ;
			var arr = [] ;
			var num = 0 ;

			for(var i=20; i>0 ; i-=2){
				arr.push(i,-i) ;
			};
			arr.push(0) ;
			clearInterval(obj.shake) ;
				obj.shake = setInterval(function(){
					obj.style[attr] = pos+arr[num]+'px' ;
					num++ ;
					if(num === arr.length){
						clearInterval(obj.shake) ;
						endFn && endFn() ;
					}
				} , 50 );
	}
		

	</script>

</html>
