<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script>
    /*
    闭包：把内部的方法和变量给外部使用，参数和变量不会被垃圾回收机制收回

    再次调用只会生成新对象和方法，新的临时变量只是对应新的值，和上次那次调用的是各自独立的。
        
    */
//例一：常规理解
    function aa() {//不可箭头 内部变量不被回收
        var a = 20;
        function b(i) {//不可箭头 内部变量被回收
            console.log(++a + i);
        }
        return b;
    }
    aa()(2);//23 第二个括号执行函数b
    var c = aa(); //新的闭包
    c(5);//26

/*
1.2 用途
    1.读取函数内部的变量
    2.让这些变量的值始终保持在内存中。
    3.模块化代码
    4.在循环中直接找到对应元素的索引

2.1 优点
    1.保护函数内变量的安全，加强了封装性（避免全局变量的污染）
    2.常驻内存，参数和变量不会被垃圾回收机制收回
    3.私有成员的存在
2.2 缺点
    1.常驻内存，会增大内存使用量，使用不当很容易造成内存泄露，在退出函数之前，将不使用的局部变量全部删除(置为null)。

    闭包面试: 1.能够读取其它函数内部变量的函数，
              2.解决for循环中var声明的问题
             3.模块化代码
*/

</script>
<style>
    li{
        list-style: none;
        width: 200px ;
        height: 80px ;
        background: #ffffcc ;
        border-radius: 80px ;
        display: flex ;
        justify-content: center;
        align-items: center ;
        margin: 10px ;
        cursor: pointer;
    }
</style>
<body>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
</body>

</html>